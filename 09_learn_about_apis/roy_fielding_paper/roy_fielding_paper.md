# アーキテクチャのスタイルとネットワーク・ベースのソフトウェア・アーキテクチャーの設計

## abstract

World Wide Web が成功したのは、そのソフトウェアアーキテクチャがインターネット規模の分散ハイパーメディアシステムのニーズを満たすように設計されていることが大きな理由です。
Web は過去 10 年間、アーキテクチャを定義する標準規格に変更を加えながら、繰り返し開発されてきました。
Web の改善が必要な部分を特定し、望ましくない変更を避けるためには、その設計、定義、展開の指針となる、現代の Web アーキテクチャのモデルが必要でした。

ソフトウェアアーキテクチャ研究では、システムをどのように分割するか、構成要素がどのように相互に識別・通信するか、どのように情報を伝達するか、システムの要素がどのように独立して進化するか、これらすべてをどのように形式的・非形式的な表記法で記述するかなどを決定する方法を研究しています。
私の研究は、ネットワークベースのアプリケーションソフトウェアのアーキテクチャ設計を、アーキテクチャ制約の原則的な使用を通じて理解し、評価することで、アーキテクチャに求められる機能的、性能的、社会的特性を得ることを目的としています。アーキテクチャスタイルとは、名前が付けられ、調整された一連のアーキテクチャ制約のことです。

この論文では、ソフトウェアアーキテクチャを理解するためのフレームワークをアーキテクチャスタイルによって定義し、ネットワークベースのアプリケーションソフトウェアのアーキテクチャ設計にスタイルをどのように利用できるかを示しています。

ネットワークベースのアプリケーションのアーキテクチャスタイルの調査をもとに、分散型ハイパーメディアのためのアーキテクチャに誘発されるアーキテクチャ特性に応じてスタイルを分類しています。
続いて、REST（Representational State Transfer）という建築スタイルを紹介し、現代の Web のための建築の設計と開発に REST がどのように活用されているかを説明します。

REST は、コンポーネントの相互作用のスケーラビリティ、インターフェースの汎用性、コンポーネントの独立した展開、および相互作用の待ち時間を短縮し、セキュリティを強化し、レガシーシステムをカプセル化する仲介コンポーネントを重視しています。
REST を導いているソフトウェアエンジニアリングの原則と、その原則を維持するために選択されたインタラクション制約について、他のアーキテクチャスタイルの制約と対比させながら説明します。
最後に、REST を Hypertext Transfer Protocol と Uniform Resource Identifier の標準規格の設計に適用し、その後の Web クライアントおよびサーバーソフトウェアへの展開から得られた教訓について述べます。

## introduction

> すみません......「ナイフ」と言いましたか？
>
> -- シティ・ジェント 1 号（マイケル・ペイリン）『アーキテクツ・スケッチ』[111]より

Perry and Wolf [105]が予測したように、1990 年代のソフトウェアエンジニアリング研究では、ソフトウェアアーキテクチャが焦点となっています。現代のソフトウェアシステムは複雑化しているため、実装を独立したコンポーネントに分割し、それらが通信して目的のタスクを実行するコンポーネント化されたシステムをより重視する必要があります。ソフトウェアアーキテクチャの研究では、システムをどのように分割するのが最適なのか、どのようにコンポーネントを識別して相互に通信するのか、どのように情報を伝達するのか、システムの要素をどのように独立して進化させるのか、これらすべてをどのように形式的および非形式的な表記法を用いて記述するのかを決定する方法を研究しています。

優れたアーキテクチャは真空中で作られるものではありません。アーキテクチャーレベルでのすべての設計上の決定は、設計対象となるシステムの機能的、行動的、社会的要件の文脈の中で行われるべきであり、これはソフトウェアアーキテクチャーにも、伝統的な分野である建築アーキテクチャーにも等しく当てはまる原則です。「形は機能に従う」という指針は、何百年にもわたる建築プロジェクトの失敗の経験から生まれたものですが、ソフトウェアの実務者には無視されがちです。先に挙げたモンティ・パイソンのスケッチで面白いのは、建築家が都市のフラット（アパート）ブロックを設計するという目的に直面したとき、現代の屠殺場のすべての構成要素を備えた建物の設計を提示するという不条理な考えです。それは史上最高の屠殺場のデザインかもしれないが、回転するナイフが入った廊下を歩かされる入居希望者にとっては、ほとんど慰めにならないだろう。

The Architects Sketch の大げさな表現は馬鹿げていると思われるかもしれませんが、ソフトウェアのプロジェクトでは、最新の流行の建築デザインを採用することから始まり、後になってシステム要件にそのような建築が必要であるかどうかが判明することがよくあります。Design-by-buzzword はよくあることです。ソフトウェア業界におけるこのような行為の少なくとも一部は、あるアーキテクチャ制約のセットがなぜ有用なのかを理解していないことに起因しています。言い換えれば、優れたソフトウェアアーキテクチャの背後にある理由が、それらのアーキテクチャが再利用のために選択される際に、設計者には明らかではないということです。

本論文は、コンピュータサイエンスにおけるソフトウェアとネットワークという 2 つの研究分野の境界にある接合部を探るものです。ソフトウェアの研究では、ソフトウェア設計の分類や設計手法の開発に長い間取り組んできましたが、様々な設計上の選択がシステムの動作に与える影響を客観的に評価することはほとんどできませんでした。一方、ネットワークの研究では、システム間の一般的な通信動作の詳細や、特定の通信技術の性能向上に焦点が当てられており、アプリケーションのインタラクションスタイルの変更が、そのインタラクションに使用される通信プロトコルよりも性能に大きな影響を与えるという事実が無視されがちです。私の研究は、ネットワークベースのアプリケーションソフトウェアのアーキテクチャ設計を理解し、アーキテクチャ制約を原理的に使用して評価することで、アーキテクチャに求められる機能、性能、社会的特性を得ることを目的としています。アーキテクチャ制約の調整されたセットに名前が与えられれば、それはアーキテクチャスタイルとなります。

本論文の最初の 3 章では、アーキテクチャスタイルを通じてソフトウェアアーキテクチャを理解するためのフレームワークを定義し、ネットワークベースのアプリケーションソフトウェアのアーキテクチャ設計にスタイルをどのように利用できるかを明らかにしています。一般的なアーキテクチャスタイルを調査し、ネットワークベースのハイパーメディアのアーキテクチャに適用した際に誘発されるアーキテクチャ特性に基づいて分類する。この分類は、初期の World Wide Web のアーキテクチャを改善するために使用できる一連のアーキテクチャ制約を特定するために使用されます。

Web を構築するには、第 4 章で説明するように、その要件を理解する必要があります。Web はインターネット規模の分散型ハイパーメディアシステムであることを意図していますが、これは単に地理的な分散を意味するだけではありません。インターネットとは、組織の壁を越えて情報ネットワークを相互に接続することです。情報サービスの提供者は、無秩序なスケーラビリティとソフトウェアコンポーネントの独立した展開の要求に対処できなければならない。分散ハイパーメディアは、リモートサイトから取得した情報の表示にアクションコントロールを埋め込むことで、サービスにアクセスするための統一的な手段を提供します。そのため、Web のアーキテクチャは、大規模なデータオブジェクトを高レイテンシーのネットワークや複数の信頼関係の境界を越えて通信するという文脈で設計する必要があります。

第 5 章では、分散ハイパーメディアシステムのための REST（Representational State Transfer）アーキテクチャスタイルを紹介し、詳しく説明します。REST は、コンポーネント間の相互作用の拡張性、インターフェースの汎用性、コンポーネントの独立した展開、相互作用の待ち時間を短縮し、セキュリティを強化し、レガシーシステムをカプセル化するための仲介コンポーネントを重視した一連のアーキテクチャ制約を提供しています。REST を導いているソフトウェアエンジニアリングの原則と、その原則を維持するために選択された相互作用制約について、他のアーキテクチャスタイルの制約と対比させながら説明する。

この 6 年間、REST のアーキテクチャスタイルは、第 6 章で紹介したように、現代の Web のためのアーキテクチャの設計と開発に活用されてきました。この作業は、ウェブ上のすべてのコンポーネントのインタラクションで使用される一般的なインターフェースを定義する 2 つの仕様である、ハイパーテキスト転送プロトコル（HTTP）と Uniform Resource Identifiers（URI）のインターネット標準を私が執筆したことに関連して行われました。

多くの実世界のシステムと同様に、導入された Web アーキテクチャのすべてのコンポーネントが、そのアーキテクチャ設計に存在するすべての制約に従うわけではありません。REST は、アーキテクチャの改善を定義する手段としても、アーキテクチャのミスマッチを特定する手段としても使用されています。ミスマッチは、無知や見落としにより、アーキテクチャの制約に違反するソフトウェアの実装が展開された場合に発生します。一般的にミスマッチを回避することはできませんが、標準化される前にミスマッチを特定することは可能です。第 6 章では、現代の Web アーキテクチャにおけるいくつかのミスマッチについて、その発生理由や REST との違いを分析してまとめています。

要約すると，本論文は情報・コンピュータ科学の分野におけるソフトウェア研究に以下のような貢献をしています。

- ソフトウェアアーキテクチャを記述するための一貫した用語集を含む、アーキテクチャスタイルを通じてソフトウェアアーキテクチャを理解するためのフレームワーク。
- ネットワークベースのアプリケーションソフトウェアのアーキテクチャスタイルを、分散ハイパーメディアシステムのアーキテクチャに適用した場合に誘発されるであろうアーキテクチャ特性によって分類した。
- 分散ハイパーメディアシステムのための新しいアーキテクチャスタイルである「REST」、および
  現代の World Wide Web のためのアーキテクチャの設計と展開における REST アーキテクチャスタイルの適用と評価。

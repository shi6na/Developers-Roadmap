# NoSQL Databases

## NoSQL とは何か

- Not only SQL ───「SQLだけではない」。
- 「RDBMS以外のデータベース管理システム」を指す、おおまかな括り。
- RDBを杓子定規に適用してきた長い歴史を打破し、それ以外の構造でのデータベースの利用・発展を促進させようとする運動の標語としての意味合いも。

### 必要性, 使い所

- 関係性モデルを必要としないデータや、半構造または非構造化データ（e.g.画像）、大量のデータを扱う時に有用。
- 大規模なデータを統計的に解析したり、増え続ける情報をリアルタイムに解析するのにも便利。
- 将来的にカラムを増やす可能性が高い場合にも有用。

### Relational DB との比較

- 低速なRDBに対し、NoSQLはシンプルな作りで高速な処理を実現。例えば、トランザクションはNoSQLには存在しない。
- 原則1台のサーバで動かすRDBに対し、NoSQLは分散が出来るためスケールアウトがしやすく、拡張・分散性に優れている。

### NewSQL（蛇足）

- 分散させるNoSQLではACIDが保てない。そこで生まれたのが「NewSQL」。
- RDBをパーティションで複数のサブセットに分割し、更にレプリケーションと二次インデックスの活用で、複数サーバにしてもACIDが保てるようになったDB。

## NoSQL の主なデータモデル (特にメリット・ユースケース)

### key-value

- Key：Valueを単体としてデータを格納する。
- シンプルで応答が早い。

### ドキュメント

- JSONやXMLのような構造を持ったドキュメントを単位としてデータを格納する。
- スキーマレスで格納できる。
- スキーマ定義したいときもあるので、スキーマ定義できるものもある。（MongoDB）

### グラフ

- ノード、リレーションシップ、プロパティによって定まるデータを単位とし、全体でグラフを形成する。
- グラフ型の名前の通り、Facebookの知り合い機能などで有用。

### カラム指向

- 一般の行指向DBと同様に表の構造を持ちつつ、カラム単位でデータを保持する。
- 行指向では苦手な列単位の大量集計、大量更新が得意。

## 各データモデルを扱うプロダクト (DBMS)

| 名称 | プロダクト |
| --- | --- |
| key-value | Redis，Amazon DynamoDB |
| ドキュメント | MongoDB, MarkLogic |
| グラフ | Neo4j |
| カラム指向 | Cassandra, Google Big Table|

## 参考文献

- [NoSQLについて勉強する。 - Qiita](https://qiita.com/t_nakayama0714/items/0ff7644666f0122cfba1#%E5%88%86%E6%95%A3%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0--%E5%88%86%E6%95%A3%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9)
- [NoSQL - Wikipedia](https://ja.wikipedia.org/wiki/NoSQL)
- [NoSQLとは？その特徴や利用するメリット、活用事例を解説](https://products.sint.co.jp/topsic/blog/nosql)
- [スケールアップ とスケールアウト [データベース] | データベース アクセス ブログ](https://www.climb.co.jp/blog_dbmoto/archives/4810)
